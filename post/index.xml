<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Anthony Alaribe</title>
    <link>http://tonyalaribe.github.io/post/</link>
    <description>Recent content in Posts on Anthony Alaribe</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.</copyright>
    <lastBuildDate>Thu, 30 Mar 2017 18:16:34 +0100</lastBuildDate>
    <atom:link href="http://tonyalaribe.github.io/post/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>How to use bleve search with a mongo db database in golang</title>
      <link>http://tonyalaribe.github.io/post/index_a_mongo_db_site_with_bleve_in_golang/</link>
      <pubDate>Thu, 30 Mar 2017 18:16:34 +0100</pubDate>
      
      <guid>http://tonyalaribe.github.io/post/index_a_mongo_db_site_with_bleve_in_golang/</guid>
      <description>

&lt;p&gt;No matter how long you&amp;rsquo;ve been using mongo db, at some point, you will become dissatisfied with its data indexing abilities. Almost every dynamic site needs some form of search thee days, but while the built in full text search that comes with mongo db can take you a long way, its just not smart enough for many use cases, like fuzzy searching (miss spelt words and incomplete words), etc.&lt;/p&gt;

&lt;p&gt;In this tutorial, I will walk you through how I used &lt;a href=&#34;http://www.blevesearch.com/&#34;&gt;bleve&lt;/a&gt; to improve the search quality of my already existing golang and mongo db web application (&lt;a href=&#34;https://calabarpages.com&#34;&gt;https://calabarpages.com&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;The first thing, ofcourse, is to get the bleve package.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  go get github.com/blevesearch/bleve
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For this tutorial, we will use the default bleve backend engine, which relies on bolt db. So, first we will open a bleve index or create an index if non exists. I always make sure to keep just one index instance open, then share that instance all accross the entire app. This is important because the bolt db engine only allows single process access. ie two processes cant read from the same database file at a time (The database is a  physical file). Opening and closing the database/index for each request can result in a lot of load, and errors, since each request would have to wait for every other process using the database to complete.&lt;/p&gt;

&lt;p&gt;To share resources across my entire server, I create a config package which holds the shared resources. I use a separate package so the resources can be accessed everywhere, even by other packages within the application.&lt;/p&gt;

&lt;p&gt;./config/config.go&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span style=&#34;color: #f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;

  &lt;span style=&#34;color: #f92672&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;
    &lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;log&amp;quot;&lt;/span&gt;
    &lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;os&amp;quot;&lt;/span&gt;

    &lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;github.com/blevesearch/bleve&amp;quot;&lt;/span&gt;
  &lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;

  &lt;span style=&#34;color: #66d9ef&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;Conf&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color: #a6e22e&#34;&gt;MongoDB&lt;/span&gt;     &lt;span style=&#34;color: #66d9ef&#34;&gt;string&lt;/span&gt;
    &lt;span style=&#34;color: #a6e22e&#34;&gt;MongoServer&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;string&lt;/span&gt;
    &lt;span style=&#34;color: #a6e22e&#34;&gt;Database&lt;/span&gt;    &lt;span style=&#34;color: #f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;mgo&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Database&lt;/span&gt; &lt;span style=&#34;color: #75715e&#34;&gt;//I also share a mongo db connection accross the app&lt;/span&gt;
  	&lt;span style=&#34;color: #a6e22e&#34;&gt;BleveFile&lt;/span&gt;   &lt;span style=&#34;color: #66d9ef&#34;&gt;string&lt;/span&gt;
  	&lt;span style=&#34;color: #a6e22e&#34;&gt;BleveIndex&lt;/span&gt;  &lt;span style=&#34;color: #a6e22e&#34;&gt;bleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Index&lt;/span&gt;
  &lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;

  &lt;span style=&#34;color: #66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;Conf&lt;/span&gt; &lt;span style=&#34;color: #75715e&#34;&gt;//To hold the shared resources in memory&lt;/span&gt;


  &lt;span style=&#34;color: #66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;CreateBleveIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;bleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Index&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;error&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color: #75715e&#34;&gt;/*--------  Content ---*/&lt;/span&gt;
  &lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;



  &lt;span style=&#34;color: #66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;Init&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
  	&lt;span style=&#34;color: #a6e22e&#34;&gt;MONGOSERVER&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;os&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Getenv&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;MONGO_URL&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;

  	&lt;span style=&#34;color: #a6e22e&#34;&gt;session&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;mgo&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Dial&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;MONGOSERVER&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
  	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
  		&lt;span style=&#34;color: #a6e22e&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Println&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
  	&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;

  	&lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;Conf&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
  		&lt;span style=&#34;color: #a6e22e&#34;&gt;MongoDB&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;:&lt;/span&gt;     &lt;span style=&#34;color: #a6e22e&#34;&gt;MONGODB&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt;
  		&lt;span style=&#34;color: #a6e22e&#34;&gt;MongoServer&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;MONGOSERVER&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt;
  		&lt;span style=&#34;color: #a6e22e&#34;&gt;Database&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;:&lt;/span&gt;    &lt;span style=&#34;color: #a6e22e&#34;&gt;session&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;DB&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;MONGODB&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;),&lt;/span&gt;
  	&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;

  	&lt;span style=&#34;color: #a6e22e&#34;&gt;bleveFile&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;os&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Getenv&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;BLEVE_PATH&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
  	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleveFile&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
  		&lt;span style=&#34;color: #a6e22e&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Println&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;Blevefile not set, resulting to default address&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
  		&lt;span style=&#34;color: #a6e22e&#34;&gt;bleveFile&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;./yellowpages.bleve&amp;quot;&lt;/span&gt;
  	&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;
  	&lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;BleveFile&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleveFile&lt;/span&gt;

  	&lt;span style=&#34;color: #a6e22e&#34;&gt;bleveIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Open&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;bleveFile&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
  	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
  		&lt;span style=&#34;color: #a6e22e&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Println&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;create bleve index&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
  		&lt;span style=&#34;color: #a6e22e&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Println&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
  		&lt;span style=&#34;color: #a6e22e&#34;&gt;bleveIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;CreateBleveIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt;
  	&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;
  	&lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;BleveIndex&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleveIndex&lt;/span&gt;

  &lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;

  &lt;span style=&#34;color: #75715e&#34;&gt;/*Get serves as a way to allow anyone access the single instance of the config information*/&lt;/span&gt;
  &lt;span style=&#34;color: #66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;Get&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Conf&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
  	&lt;span style=&#34;color: #66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;
  &lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Note the Init function (not init). This function can be called anywhere, but once. When called, it actually creates the config instance that can be shared across the entire application and accessed with package.Get().&lt;/p&gt;

&lt;p&gt;The init function gets the path to the bleve index file, and if it doesn&amp;rsquo;t exist, it creates a new index file.&lt;/p&gt;

&lt;p&gt;Now for the interesting part:&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;CreateBleveIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;bleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Index&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;error&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;mapping&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;NewIndexMapping&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;listingsMapping&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;NewDocumentMapping&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt;

	&lt;span style=&#34;color: #a6e22e&#34;&gt;companynameFieldMapping&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;NewTextFieldMapping&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;listingsMapping&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;AddFieldMappingsAt&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;companyname&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;companynameFieldMapping&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;


	&lt;span style=&#34;color: #a6e22e&#34;&gt;mapping&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;AddDocumentMapping&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;listing&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;listingsMapping&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;

	&lt;span style=&#34;color: #a6e22e&#34;&gt;bIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;New&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;BleveFile&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;mapping&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
		&lt;span style=&#34;color: #a6e22e&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Println&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
		&lt;span style=&#34;color: #66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt;
	&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;

	&lt;span style=&#34;color: #66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;A bleve index consists of a mapping, which you instruct on how to understand your data.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;mapping := bleve.NewIndexMapping()&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Then you instruct the mapping about the data you will pass into it.  We will be passing in structs of business listings so we create a document mapping to hold the business listing.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;listingsMapping := bleve.NewDocumentMapping()&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Next we describe the most important fields within the listing to improve the indexing. For this, we&amp;rsquo;ll describe just the company name field of the struct, but we could also describe the about field, specialisation, etc.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;companynameFieldMapping := bleve.NewTextFieldMapping()&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;We let bleve know that companynameFieldMapping is a mapping under the listing document&lt;/p&gt;

&lt;p&gt;&lt;code&gt;listingsMapping.AddFieldMappingsAt(&amp;quot;companyname&amp;quot;, companynameFieldMapping)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;In turn, we let bleve know that the listingsMapping is for a document directly under the index.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;mapping.AddDocumentMapping(&amp;quot;listing&amp;quot;, listingsMapping)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Finally, we create and return the index&lt;/p&gt;

&lt;p&gt;&lt;code&gt;bIndex, err := bleve.New(config.BleveFile, mapping)
if err != nil {
  log.Println(err)
  return bIndex, err
}&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Now we have an index created, we have to add items to the index.&lt;/p&gt;

&lt;h1 id=&#34;indexing-every-document-in-a-mongo-db-collection&#34;&gt;Indexing every document in a mongo db collection&lt;/h1&gt;

&lt;p&gt;If you already had an existing database, you would need to loop through the entire collection and index the data.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;IndexMongoDBListingsCollectionWithBleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;conf&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Get&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;mgoSession&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;conf&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Database&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Session&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Copy&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt;
	&lt;span style=&#34;color: #66d9ef&#34;&gt;defer&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;mgoSession&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Close&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;collection&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;conf&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Database&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;C&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;LISTINGSCOLLECTION&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;).&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;With&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;mgoSession&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;

	&lt;span style=&#34;color: #a6e22e&#34;&gt;bleveIndex&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Get&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;BleveIndex&lt;/span&gt;

	&lt;span style=&#34;color: #a6e22e&#34;&gt;q&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;collection&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Find&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;bson&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;M&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;{})&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;count&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;q&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Count&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt;
	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
		&lt;span style=&#34;color: #a6e22e&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Println&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
	&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;cycles&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;count&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color: #ae81ff&#34;&gt;100&lt;/span&gt;
  &lt;span style=&#34;color: #75715e&#34;&gt;//To prevent using too much memory, we will draw 100 documents from the collection at a time&lt;/span&gt;
	&lt;span style=&#34;color: #66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;cycles&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;++&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
		&lt;span style=&#34;color: #a6e22e&#34;&gt;listings&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;[]&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Listing&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;{}&lt;/span&gt;

		&lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;q&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Limit&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #ae81ff&#34;&gt;100&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;).&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Skip&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color: #ae81ff&#34;&gt;100&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;).&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;All&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;listings&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
		&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
			&lt;span style=&#34;color: #a6e22e&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Println&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
		&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;

		&lt;span style=&#34;color: #66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;_&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;listing&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;listings&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
			&lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleveIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Index&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;listing&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Slug&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;listing&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
			&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
				&lt;span style=&#34;color: #a6e22e&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Println&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
				&lt;span style=&#34;color: #75715e&#34;&gt;//return err&lt;/span&gt;
			&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;
			&lt;span style=&#34;color: #a6e22e&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Printf&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;indexed %s successfully&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;listing&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Slug&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
		&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;
	&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The most important part of this code is
&lt;code&gt;err = bleveIndex.Index(listing.Slug, listing)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Which indexes a listing, with its slug as the key.&lt;/p&gt;

&lt;p&gt;To search, we simply get a list of slugs (the key) that match the search, and get the corresponding documents from mongo.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;SearchWithIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;queryString&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;string&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;bleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;SearchResult&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;error&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;query&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;NewFuzzyQuery&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;queryString&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;query&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Fuzziness&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #ae81ff&#34;&gt;2&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;search&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleve&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;NewSearchRequest&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;query&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;bleveIndex&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Get&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;BleveIndex&lt;/span&gt;

	&lt;span style=&#34;color: #a6e22e&#34;&gt;searchResults&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bleveIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Search&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;search&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
		&lt;span style=&#34;color: #a6e22e&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Println&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
		&lt;span style=&#34;color: #66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;searchResults&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt;
	&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;

	&lt;span style=&#34;color: #66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;searchResults&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;With SearchWithIndex() we perform a fuzzy search. This simply means that even queries that dont have exact matches will return results that are closest to the query.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;Listing&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;Search&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Conf&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;query&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;string&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Listings&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;error&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;Results&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;Listings&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;{}&lt;/span&gt;

	&lt;span style=&#34;color: #a6e22e&#34;&gt;mgoSession&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Database&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Session&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Copy&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt;
	&lt;span style=&#34;color: #66d9ef&#34;&gt;defer&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;mgoSession&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Close&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;()&lt;/span&gt;

	&lt;span style=&#34;color: #a6e22e&#34;&gt;collection&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Database&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;C&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;Listings&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;).&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;With&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;mgoSession&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;

	&lt;span style=&#34;color: #a6e22e&#34;&gt;searchResult&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;SearchWithIndex&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;query&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
		&lt;span style=&#34;color: #a6e22e&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Println&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
	&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;

  &lt;span style=&#34;color: #75715e&#34;&gt;//Create a slice array with all the slugs (keys/IDs)&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;documentIdArray&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;[]&lt;/span&gt;&lt;span style=&#34;color: #66d9ef&#34;&gt;string&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;{}&lt;/span&gt;
	&lt;span style=&#34;color: #66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;_&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;v&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;searchResult&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Hits&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
		&lt;span style=&#34;color: #a6e22e&#34;&gt;documentIdArray&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;append(&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;documentIdArray&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;v&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;ID&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
	&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;

	&lt;span style=&#34;color: #a6e22e&#34;&gt;q&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;collection&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Find&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;
		&lt;span style=&#34;color: #a6e22e&#34;&gt;bson&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;M&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
			&lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;slug&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bson&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;M&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
				&lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;$in&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;documentIdArray&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt;
			&lt;span style=&#34;color: #f8f8f2&#34;&gt;},&lt;/span&gt;
		&lt;span style=&#34;color: #f8f8f2&#34;&gt;})&lt;/span&gt;

	&lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;q&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;All&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Results&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Data&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;)&lt;/span&gt;
	&lt;span style=&#34;color: #a6e22e&#34;&gt;Results&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Page&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;pg&lt;/span&gt;
	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
		&lt;span style=&#34;color: #66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;Results&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;err&lt;/span&gt;
	&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;
	&lt;span style=&#34;color: #66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;Results&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;span style=&#34;color: #f8f8f2&#34;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The most important line of note is&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;q&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;collection&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;Find&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;(&lt;/span&gt;
  &lt;span style=&#34;color: #a6e22e&#34;&gt;bson&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;M&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;slug&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;bson&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #a6e22e&#34;&gt;M&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;$in&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color: #a6e22e&#34;&gt;documentIdArray&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;,&lt;/span&gt;
    &lt;span style=&#34;color: #f8f8f2&#34;&gt;},&lt;/span&gt;
  &lt;span style=&#34;color: #f8f8f2&#34;&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;We us the mongo &lt;code&gt;$in&lt;/code&gt; query to search for all documents with slugs that match the items in the ducmentIdArray.  This way, we dont have to search for the documents one by one.&lt;/p&gt;

&lt;p&gt;Please let me know any improvements I can make to make this tutorial simpler. Also, feel free to let me know any mistakes I might have made, or alternative approaches to solving the challenges the code attempts to solve.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Working with the filesystem in dokku (Persistent File Storage)</title>
      <link>http://tonyalaribe.github.io/post/working_with_the_filesystem_in_dokku/</link>
      <pubDate>Thu, 30 Mar 2017 18:16:34 +0100</pubDate>
      
      <guid>http://tonyalaribe.github.io/post/working_with_the_filesystem_in_dokku/</guid>
      <description>

&lt;p&gt;Dokku is a self hosted heroku-like platform as a service. And if you&amp;rsquo;ve ever used heroku, you&amp;rsquo;re aware of its ephemeral filesystem that deletes all your content with each deployment.  This is a good system, as it forces you to separate your files from your application, and dokku provides an almost identical ephemeral system like heroku.&lt;/p&gt;

&lt;p&gt;But most applications need to store files somehow. To go around this, most of us simply upload our files to third party block storage platforms like amazon s3. But how about when we really need to use a file system?&lt;/p&gt;

&lt;p&gt;Dokku provides a way to attach a persistent directory to your application, using the Dokku storage plugin. Dokku creates a new directory /var/lib/dokku/data/storage during installation, so its generally accepted that this directory be the base for the mounted storage.&lt;/p&gt;

&lt;p&gt;The mounting process is a rather simple process, but first, lets explore.&lt;/p&gt;

&lt;p&gt;ssh into you dokku instance, and check out the default dokku data storage directory.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span style=&#34;color: #f8f8f2&#34;&gt;cd&lt;/span&gt; /var/lib/dokku/data/storage
  ls
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If this is your first time with dokku persistent storage, the directory should be empty.&lt;/p&gt;

&lt;p&gt;Next we create a directory to hold the files for our application&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  mkdir app-name
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Apps are usually run as the dokku user, so we make sure the dokku user and the 32767 group id has access to the directory.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;chown -R dokku:dokku /var/lib/dokku/data/storage/app-name
chown -R &lt;span style=&#34;color: #ae81ff&#34;&gt;32767&lt;/span&gt;:32767 /var/lib/dokku/data/storage/app-name
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then we mount the directory to the /storage directory. You could replace /storage with any directory path, but it should be relative. eg /app/files.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  dokku storage:mount app-name /var/lib/dokku/data/storage/app-name:/storage
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;What this simply means is that when you write to /storage, you&amp;rsquo;re actually writing to /var/lib/dokku/data/storage/app-name. The best part is that the content of the  /var/lib/dokku/data/storage/app-name directory is persisted between application deployments, since it is outside of the dokku container.&lt;/p&gt;

&lt;p&gt;Please be aware that when you destroy your app, the persisted folders will stay on the remote system and you will need to delete them manually if you want them gone.&lt;/p&gt;

&lt;h1 id=&#34;use-cases&#34;&gt;Use cases&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;I use &lt;a href=&#34;https://github.com/boltdb/bolt&#34;&gt;bolt db&lt;/a&gt; and &lt;a href=&#34;https://www.sqlite.org&#34;&gt;sqlite&lt;/a&gt; for some of my web apps, where I dont really want the complexity of a full blown database. So dokku persistent storage helps make these filesystem dependent databases possible.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;I use &lt;a href=&#34;http://www.blevesearch.com/&#34;&gt;bleve search&lt;/a&gt; to index my data. Most applications I work on, usually need some form of search capabilities, and while most databases like postgresql or mongo db have really good search capabilities, they still remain lacking, with limited tuning capabilities. And bleve on its own, utilizes a key value store which would usually need access to the filesystem for persistence.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Sometimes I dont want to store uploaded files on heroku. Especially for very quick and  applications.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Its possible for most applications to be built with a combination of a key value store like bolt, and a full text search engine like bleve.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For more information on the dokku persistent file storage, visit &lt;a href=&#34;http://dokku.viewdocs.io/dokku/advanced-usage/persistent-storage/&#34;&gt;http://dokku.viewdocs.io/dokku/advanced-usage/persistent-storage/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A recap of 2014: Projects and Achievements</title>
      <link>http://tonyalaribe.github.io/post/recap-2014-projects/</link>
      <pubDate>Fri, 06 Feb 2015 22:15:20 +0000</pubDate>
      
      <guid>http://tonyalaribe.github.io/post/recap-2014-projects/</guid>
      <description>

&lt;h3 id=&#34;achievements-2014&#34;&gt;Achievements 2014&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;I learnt Golang, LESS, SASS, TOML, YAML and ANGULAR&lt;/li&gt;
&lt;li&gt;I built teaching experience, got my 1st pay check, quit a job&lt;/li&gt;
&lt;li&gt;I got real life marketting and sales experience ( Nescafe Entrepreneural
Challenge )&lt;/li&gt;
&lt;li&gt;I learnt about Printing ( Direct Imaging ), designing and printing branding
materials and brochures, including an Annual report for Enactus, so I got  to
be a contractor for Enactus.&lt;/li&gt;
&lt;li&gt;I spoke to the Branch Controller of FCMB, on behalf of Enactus.&lt;/li&gt;
&lt;li&gt;I learned to take responsibilities and manage people, with Enactus as a
platform.&lt;/li&gt;
&lt;li&gt;Learned about JSON resume standard, and designed a graphically enticing
Resume.&lt;/li&gt;
&lt;li&gt;I became badass with linux shell&lt;/li&gt;
&lt;li&gt;I installed Arch Linux on my laptop (The hard way, with lots of challenges).&lt;/li&gt;
&lt;li&gt;I got my first laptop in 2014&lt;/li&gt;
&lt;li&gt;I got involved in IDEA and smile (A programming partner).&lt;/li&gt;
&lt;li&gt;My insights on Entrepreneurship changed- I got lots of entrepreneural ideas
too.&lt;/li&gt;
&lt;li&gt;I designed a website for a lecturer, for a sizable sum.&lt;/li&gt;
&lt;li&gt;I began active blogging on this  blog, officially.&lt;/li&gt;
&lt;li&gt;I learned to use the Hugo static blog engine.&lt;/li&gt;
&lt;li&gt;I travelled to, and toured Abia State (Umuahia and Aba), on my own.&lt;/li&gt;
&lt;li&gt;I learned to write markdown, which is what this blog is written in.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;goals-i-had-for-2014&#34;&gt;Goals I had for 2014&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Meditate and do yoga often.&lt;/li&gt;
&lt;li&gt;Excercise dialy.&lt;/li&gt;
&lt;li&gt;Learn Electronics.&lt;/li&gt;
&lt;li&gt;Learn Artificial Intelligence.&lt;/li&gt;
&lt;li&gt;Learn Golang.&lt;/li&gt;
&lt;li&gt;Learn Hausa.&lt;/li&gt;
&lt;li&gt;Learn Mandarin.&lt;/li&gt;
&lt;li&gt;Build Loki ( An Artificially Intelligent Personal Assistant)&lt;/li&gt;
&lt;li&gt;Start a business&lt;/li&gt;
&lt;li&gt;- Book rental service&lt;/li&gt;
&lt;li&gt;- Wadeva (online interest based social network)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;books-that-stood-out-in-2014&#34;&gt;Books that stood out in 2014&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Rich Dad Poor Dad - Robert Kiyosaki&lt;/li&gt;
&lt;li&gt;Enchantment - Guy Kiwasaki&lt;/li&gt;
&lt;li&gt;To kill a Moking  Bird - Harper Lee&lt;/li&gt;
&lt;li&gt;Frost series - Kailin Gow&lt;/li&gt;
&lt;li&gt;The Perks of being a wallflower - Steven Chbosky&lt;/li&gt;
&lt;li&gt;Chronicles of Ancient Darkness series - Michelle Paver&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;project-ideas-and-projects-i-started-in-2014&#34;&gt;Project Ideas and Projects I started in 2014&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Computer Vision  measurement app&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>A recap of 2014: An Essay</title>
      <link>http://tonyalaribe.github.io/post/recap-2014/</link>
      <pubDate>Fri, 06 Feb 2015 21:47:16 +0000</pubDate>
      
      <guid>http://tonyalaribe.github.io/post/recap-2014/</guid>
      <description>&lt;p&gt;2014 was supposed to be a really awesome and successful year. In january, I made my first pay check, with which i celebrated my birthday (pool party + pizza after party). Outside my birthday party, which I wasn&amp;rsquo;t even in the flow with, 2014 was dry.&lt;/p&gt;

&lt;p&gt;I started depressed, probably a manifestation of lots of things; My emotional
state with a certain girl, being stressed out by my job at pacific ( I was still
working monday to Fridays), my &amp;ldquo;get rich quick&amp;rdquo; scheme, which involved me
designing a wordpress theme for the wordpress theme market (Themeforest); and
designing stock images for &amp;ldquo;Graphic River&amp;rdquo;. I never sold any of these items,
even after working countless hours on them.&lt;/p&gt;

&lt;p&gt;I made my worst result ever in 2014. The reason; A function of depression and my
job at Pacific. I used the pacific job as a getaway from the world. I had enough
money to not overly worry about money, and it took so much from me that I built
enough stress levels to not worry about my problems (real problems).&lt;/p&gt;

&lt;p&gt;During this period at pacific, I achieved &amp;ldquo;nothing&amp;rdquo;, learned no new programming
languages, built no interests in any course I took in school; Although I seemed
to make lots of new acquaintances, it drew me away from relationships I had
already built (My friends in school, etc).&lt;/p&gt;

&lt;p&gt;I left with my first &amp;ldquo;F&amp;rdquo;, which I shall pay for in 2015.&lt;/p&gt;

&lt;p&gt;I quit my job at pacific, just before the Enactus National Competition in July.
I travelled to lagos, only to get news about how horrible my results were. This
had the effect of making me emotionless and non-chalant towards school.&lt;/p&gt;

&lt;p&gt;Even without the pacific job, my bad grades extended into the next semester, but
atleast I didn&amp;rsquo;t get another &amp;ldquo;F&amp;rdquo;. I got something worse &amp;ldquo;No A&amp;rdquo;, but I got back a
bit of my lost self esteem.&lt;/p&gt;

&lt;p&gt;Right now I&amp;rsquo;m trying to find the balance between Programming and Medical
Laboratory Science (My major), which I would prefer not to have a career in.&lt;/p&gt;

&lt;p&gt;Just before the end of the year, I started getting stronger desires to have an
actual second degree in Computer Science or  preferably Artificial Intelligence,
as a way of learning those vital concepts which could guide my research, as
well as a chance to get the &amp;ldquo;1st class&amp;rdquo;, and &amp;ldquo;Peace of Mind&amp;rdquo;. I spent 2014 being
broke most of the time.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A Journey Turns Unexpected: Abia State</title>
      <link>http://tonyalaribe.github.io/post/aba2/</link>
      <pubDate>Thu, 05 Feb 2015 15:21:12 +0000</pubDate>
      
      <guid>http://tonyalaribe.github.io/post/aba2/</guid>
      <description>&lt;p&gt;While traveling, my first indicator of being in Abia state was the road. Immediately the bus started struggling with gully sized pot holes, and totally eroded roads that were half immersed in water, I knew we had left the comfort of Akwa Ibom state, which is the state you have to go through, if going to Abia state from Cross River State.&lt;/p&gt;

&lt;p&gt;Everyone was trying to sell something to everyone. Four different guys tried selling the same book to me, almost in turns. Maybe they guessed from my glasses that Im a reader. But that wasnt the problem. The books they were trying to sell were obviously printed in someones garage or room, with information hastily gathered from the internet. The book was titled 501 ways to inspire and motivate anyone.&lt;/p&gt;

&lt;p&gt;People hawked everything, from eggs to electronics to belts and wallets. And they werent worried about how saturated the market for these items are. A wallet I would buy at N2000($13) in Calabar could be gotten here at N700($5), with them even begging you, in a bid to get you to buy their items. Imagine the price slashes? Probably due to excessive competition, and production of fakes.&lt;/p&gt;

&lt;p&gt;So, everyone is hawking something, and everyone has a shop. Seriously, I didnt see any building, housing or not, that didnt have a stall or kiosk in front of it. All the stalls sold virtually the same things, mostly food items. Made me wonder who buys from who.&lt;/p&gt;

&lt;p&gt;A day in Aba is enough to reveal the difference between entrepreneurship and business. There is little to no innovation here, just buying and selling, and maybe little creativity in terms of marketing stunts. Im very sure there are some legendary businessmen here, who can sell anything to anyone, for a price, irrespective of whether the buyer wants the item or not.&lt;/p&gt;

&lt;p&gt;Teach a real Aba businessman entrepreneurship and innovation, and Im very sure youd be creating a force to be reckoned with.&lt;/p&gt;

&lt;p&gt;Leaving Aba, the next thing you notice is the road. In one word; Horrible. For a major express road within town. Maybe the dense population in the state contributes, as hawkers seemed to take advantage of the traffic caused by the road. The hawkers were comparatively OK. The real pain came from billboards; mostly advertising politicians. Especially their current governor Theodore Orji usually refered to as Ochendu which means Guidance of life.&lt;/p&gt;

&lt;p&gt;I wonder if the poiticians didnt think that putting their faces over bad roads would be a constant reminder of how uneffective they are.&lt;/p&gt;

&lt;p&gt;I hear their Governor even became a governor while in jail, through some form of God fatherism. Such comaraderie should be enough drive to make him prove his worth, by making the state awesome, and not swindling everything the state has, but thats no business of mine.&lt;/p&gt;

&lt;p&gt;The constant trail of billboards, was at almost every couple of meters. They rarely even advertised companies, always politicians. Not just politicians, but the politician, who wants to go into the senate immediately after his tenure.&lt;/p&gt;

&lt;p&gt;Eventually, we got to the state capital, and its still horrible, at least everyother part thats not close to the government house. The roads were relatively better than in Aba, but a little rowdy and unkept. Mind you, the bank was around the Government house, which is comonly called Tower, and Id confess that the area is well taken care of, although the average street in Cross River State is still better off.&lt;/p&gt;

&lt;p&gt;A few minutes away from the government house is where I spent the night, Isieke, In a Government Housing Estate. Funny that in a government housing estate in the states capital, access to running water is a luxury available to only those who can afford to drill their own bore holes. When I asked, I heard that in the states capital, running water is mostly available to those who live in the government house area Tower area.&lt;/p&gt;

&lt;p&gt;So much for a state capital, where all the facilities are centralised around the Government House. I wonder about the possibilities of boasting about my state in a conversation with friends. I might just lie that Im from Cross River State. At least I grew up here, and the Government knows the value of even allocation of resources.&lt;/p&gt;

&lt;p&gt;Abia state is of course not entirely bad. The resourcefulness and determination to survive is a huge quality of everyone Ive met so far, compared to other states Ive been to in Nigeria. The people are hardworking, and love family, or at least they love showing off to family. Their girls are also something worth mentioning. Theyre generally beautiful, but I wonder why most matured women Ive met havent been so appealing. Maybe the stress, or the genes.&lt;/p&gt;

&lt;p&gt;In summary, everyone in the state has a hustling culture. And you know the thing about hustling? Mindset. The mindset of being hustlers make them remain chained to hustling. So they hustle like crazy, and spend lots of what they make, showing off, in a bid to justify their hustling. The low incomed workers toil like crazy, making their products and services available at very low prices. The higher earning individuals like the politicians still hustle, never seeming to be satisfied by whatever wealth they accumulate, so they go on to coverting the states funds and spending it on less relevant things like publicising themselves, and building wonderful Government Houses and Palaces as homes.ile travelling, my first indicator of being in Abia state was the road. Immediately the bus started struggling with gully sized pot holes, and totally eroded roads that were half immersed in water, I knew we had left the comfort of Akwa Ibom state, which is the state you have to go through, if going to Abia state from Cross River State.&lt;/p&gt;

&lt;p&gt;Everyone was trying to sell something to everyone. Four different guys tried selling the same book to me, almost in turns. Maybe they guessed from my glasses that Im a reader. But that wasnt the problem. The books they were trying to sell were obviously printed in someones garage or room, with information hastily gathered from the internet. The book was titled 501 ways to inspire and motivate anyone.&lt;/p&gt;

&lt;p&gt;People hawked everything, from eggs to electronics to belts and wallets. And they werent worried about how saturated the market for these items are. A wallet I would buy at N2000($13) in Calabar could be gotten here at N700($5), with them even begging you, in a bid to get you to buy their items. Imagine the price slashes? Probably due to excessive competition, and production of fakes.&lt;/p&gt;

&lt;p&gt;So, everyone is hawking something, and everyone has a shop. Seriously, I didnt see any building, housing or not, that didnt have a stall or kiosk in front of it. All the stalls sold virtually the same things, mostly food items. Made me wonder who buys from who.&lt;/p&gt;

&lt;p&gt;A day in Aba is enough to reveal the difference between entrepreneurship and business. There is little to no innovation here, just buying and selling, and maybe little creativity in terms of marketting stunts. Im very sure there are some legendary businessmen here, who can sell anything to anyone, for a price, irrespective of whether the buyer wants the item or not.&lt;/p&gt;

&lt;p&gt;Teach a real Aba businessman entrepreneurship and innovation, and Im very sure youd be creating a force to be reckoned with.&lt;/p&gt;

&lt;p&gt;Leaving Aba, the next thing you notice is the road. In one word; Horrible. For a major express road within town. Maybe the dense population in the state contributes, as hawkers seemed to take advantage of the traffic caused by the road. The hawkers were comparatively OK. The real pain came from billboards; mostly advertising politicians. Especially their current governor Theodore Orji usually refered to as Ochendu which means Guidance of life. I wonder if the poiticians didnt think that putting their faces over bad roads would be a constant reminder of how uneffective they are.&lt;/p&gt;

&lt;p&gt;I hear their Governor even became a governor while in jail, through some form of God fatherism. Such comaraderie should be enough drive to make him prove his worth, by making the state awesome, and not swindling everything the state has, but thats no business of mine.&lt;/p&gt;

&lt;p&gt;The constant trail of billboards, was at almost every couple of meters. They rarely even advertised companies, always politicians. Not just politicians, but the politician, who wants to go into the senate immediately after his tenure.&lt;/p&gt;

&lt;p&gt;Eventually, we got to the state capital, and its still horrible, at least everyother part thats not close to the government house. The roads were relatively better than in Aba, but a little rowdy and unkept. Mind you, the bank was around the Government house, which is comonly called Tower, and Id confess that the area is well taken care of, although the average street in Cross River State is still better off.&lt;/p&gt;

&lt;p&gt;A few minutes away from the government house is where I spent the night, Isieke, In a Government Housing Estate. Funny that in a government housing estate in the states capital, access to running water is a luxery available to only those who can afford to drill their own bore holes. When I asked, I heard that in the states capital, running water is mostly available to those who live in the government house area Tower area.&lt;/p&gt;

&lt;p&gt;So much for a state capital, where all the facilities are centrallised around the Government House. I wonder about the possibilities of boasting about my state in a conversation with friends. I might just lie that Im from Cross River State. At least I grew up here, and the Government knows the value of even allocation of resources.&lt;/p&gt;

&lt;p&gt;Abia state is of course not entirely bad. The resourcefulness and determination to survive is a huge quality of everyone Ive met so far, compared to other states Ive been to in Nigeria. The people are hardworking, and love family, or at least they love showing off to family. Their girls are also something worth mentioning. Theyre generally beautiful, but I wonder why most matured women Ive met havent been so appealing. Maybe the stress, or the genes.&lt;/p&gt;

&lt;p&gt;In summary, everyone in the state has a hustling culture. And you know the thing about hustling? Mindset. The mindset of being hustlers make them remain chained to hustling. So they hustle like crazy, and spend lots of what they make, showing off, in a bid to justify their hustling. The low incomed workers  toil like crazy, making their products and services available at very low prices. The higher earning individuals like the politicians still hustle, never seeming to be satisfied by whatever wealth they accumulate, so they go on to coverting the states funds and spending it on less relevant things like publicising themselves, and building wonderful Government Houses and Palaces as homes.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A journey turns unexpected: The Journey</title>
      <link>http://tonyalaribe.github.io/post/aba1/</link>
      <pubDate>Thu, 05 Feb 2015 15:20:54 +0000</pubDate>
      
      <guid>http://tonyalaribe.github.io/post/aba1/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m not writing this post with my regular pen, or in my house, or in a class. Actually, Im atleast a hundred miles away from Calabar. Im in Umuahia, the capital of Abia State, which is coincidentally the my state of origin. And I dont speak the language, Igbo.&lt;/p&gt;

&lt;p&gt;OK, I know there is nothing special about anything ive said so far, or will eventually say. Today was going to be uneventful, Id board a bus for the 4 hour journey to umuahia, where Id run some transactions at the bank, board another 4 hours bus back home, to calabar. The plan couldnt be more pefect.&lt;/p&gt;

&lt;p&gt;Well, it started with a mistake; Im with the attendant of a transport company who is about to register my name, but i notice that the list is empty, and so is the bus. So I ask a supposed harmless question. &amp;gt; How long would it take for the bus to fill up? Her harmless reply, &amp;gt; About an hour and thirty minutes.Its 8 am in the morning and what she means is that the bus would leave at 9:30am, and arrive in Umuahia by 1:30am. With my impatiance, it seems too long; At least right now.&lt;/p&gt;

&lt;p&gt;I leave the transport company to a transport park, where i find a bus that isnt empty, about a third full. What could be better? OK, theres a catch; The bus isnt going to Umuahia, but to Aba. Aba is the business town of Abia State, probably more congested than any other town within the state. My common sense tells me Aba should be less than 30 minutes away from Umuahia, considering that theyre neigbors.&lt;/p&gt;

&lt;p&gt;I took the bus, then waited. It took forever, for a bus i met already a third full,but we left eventually, at about 9:45am which is more than the time of departure the other transport company gave. I had no regrets, Yet.&lt;/p&gt;

&lt;p&gt;We got to Aba by 2pm, and it was when i realised that going to Umuahia was another real journey, that I felt regret. I had to find a bus (15 minutes), then board it, and wait for it to fill up (50 minutes), before the journey started. The journey lasted over an hour, with me in Umuahia by 3:50pm, to use a bank which closes at 4pm. Worst part being that I didnt know my way around the state. I also didnt have data on my phone, at least I could have tried google maps. But then, I still needed to get to the bank in 10 minutes, in a state where everyone speaks the Igbo language as their lingua Franca.&lt;/p&gt;

&lt;p&gt;Luckily, I had heard someone mention that GT Bank was at Umuahia road. I walked to the road, acting like a true local of the region. &amp;gt; GT Bank Umuahia Road, drop Good thing that transportation is cheap in this state. Eventually, I got to the bank, probably a minute before they closed. My transaction took just a couple of minutes. As I left the bank, I couldnt help notice the people at the entrance, who werent allowed in, since the bank had closed. Imagine me being on the road for over seven hours, only to meet the bank closed, on a weekend.&lt;/p&gt;

&lt;p&gt;Well, right now Im on a bed in an Uncles house in Umuahia, and its morning. I wasnt able to take the journey back yesterday, as it was already late, and I had missed the last bus to calabar. My fantasy was lodging in a local cheap hotel, going to a local club ( Its friday night  ), maybe getting wasted or something #wink. Well, didnt turn out that way. Had to follow orders from above (my dad).&lt;/p&gt;

&lt;p&gt;Id be leaving for Calabar in a few minutes, and in my next post, Id be sharing my very opinionated discoveries during my short visit.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Should we be normal?</title>
      <link>http://tonyalaribe.github.io/post/normal/</link>
      <pubDate>Thu, 05 Feb 2015 15:20:06 +0000</pubDate>
      
      <guid>http://tonyalaribe.github.io/post/normal/</guid>
      <description>&lt;p&gt;As usual, I got caught up in a conversation with another awesome friend of mine. I wouldnt mention her name this time, and yeah its a She.  It started with a statement she made, about how I and my friend Irhose are very out of this world and unrealistic. How our dreams and the ideas we come up with  are not so relevant in our immediate society, i.e Nigeria.&lt;/p&gt;

&lt;p&gt;By the way, Im a programming addict. I love building things, but since Im limited in terms of resources, I stick to programming, where I can let my ideas come alive with just my time, and no money spent of parts like micro controllers, etc.&lt;/p&gt;

&lt;p&gt;My friend Irhose on the other hand is obsessed with the brain. I wouldnt be far fetched if i say he knows more about the brain than a lot of neuro scientists around. His limitation too, is resources. With so many hypothesis to be proven, and no research lab around that would listen to an 18 year old undergraduate, hes stuck to learning as much about the brain as possible, from the interne, and other peoples research works, as his unproven hypothesis keep piling, or get proven by other scientists.&lt;/p&gt;

&lt;p&gt;It doesnt stop there. We still have big dreams to change the world, just in different ways. Irhose is more interested in changing mindsets, while im more interested in changing the world by making certain things available to everyone, and solving the problems the problems man faces.&lt;/p&gt;

&lt;p&gt;Now, back to the post. The conversation did turn into a slight argument. Her dream is simple, to be rich. She is a medical student on the path of becoming a medical doctor, probably because in Nigeria, medical doctors are well paid and have good job security. So, shes NORMAL. Everyone in existence wants to be rich, but only a very few have a reason to be rich.&lt;/p&gt;

&lt;p&gt;So, is it OK to be just normal? Living your life based on standards made by everyone else? Well, it depends. Its OK for a lot of people, not not for everyone, and definitely not for me. In Nigeria, everyone aspires to be either a doctor, lawyer or engineer, which is not a bad thing, but their reasons, are what might not be so acceptable. Everyone wants to go through those carear options, because thats what the society seems to accept. They know that there is good job security in those areas, so they push it on the younger generation. Young people are not encouraged to dream of anything that hasnt already been
 tried and proven as perfect.&lt;/p&gt;

&lt;p&gt;This culture makes everyone let go of their dreams and carry the single dream of being RICH. The goal behind everyones ambition is to be rich, not to fulfil any passions. But then, when you get the money, what next? Your life remains like that of everyone else; Working, getting paid, getting broke by month end, and then waiting to get paid again, with no feeling of fulfilment. And when you try to analyse where all the money has been going to, you realise that the more money you got, the more your needs rose to use up the money.&lt;/p&gt;

&lt;p&gt;Dont get me wrong, its OK to be rich, and money was created to be spent, but money shouldnt be the goal, but rather a tool, and spending the money should be able to give you fulfilment, afterall, you worked for it. When you have a passion or dream, youd even have a reasn to make more money. But youd more likely be investing it on those passions, and youd get something everyone else doesnt, FULFILMENT.&lt;/p&gt;

&lt;p&gt;So, instead of hiding your dreams or not even having dreams because you think they are unrealistic, you could be different from everyone; Have your realistic job, but still let yourself have a passion or dream that might seem unrealistic to the people around you, with the potential for a more fulfiling life.&lt;/p&gt;

&lt;p&gt;I and Irhose would be rich eventually, but not for the sake of being rich, but because we have causes and needs that would need lots of money to deal with.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Diving into golang: 1: An opinionated introduction</title>
      <link>http://tonyalaribe.github.io/post/golang1/</link>
      <pubDate>Wed, 04 Feb 2015 23:03:54 +0000</pubDate>
      
      <guid>http://tonyalaribe.github.io/post/golang1/</guid>
      <description>&lt;p&gt;In  the past six months, ive been exclusively doing most of my backend programming work from a programming language known as Go or golang.&lt;/p&gt;

&lt;p&gt;The features of the language that appeal to me are:
   * Its speed, which is really close to that of C/C++.
   * Its simplicity. You can keep the whole language syntax in your head, and not have to consult the documentation for every line of you write.
   * Its concurency. In case you dont know, concurrency has to do with being able to run parts of the code simultaneously. In this our generation of multicore device processors, your application can fully maximise the number cores of the device, without unnecessary complexity in implementation.
   * Completeness. With a full featured standard library, we dont need to spend all our time searching for third party libraries or implementing low level features our selves.&lt;/p&gt;

&lt;p&gt;These are just a few of the features of golang, as that really isnt the purpose of this post.&lt;/p&gt;

&lt;p&gt;Back to diving into go First, head over to the golang official website and follow the instructions to set up Go on your development environment, whether on windows, linux or mac.&lt;/p&gt;

&lt;p&gt;For me, my development environment is a laptop running Ubuntu 14.04 LTS, a linux operating system. I use VIM as my promary text editor, due to its simplicity. If you use linux and would prefer to use vim, you can visit this github page on how to set up VIM for Go.If youre very new to vim, you can download and install vim from your software repository, to get through the basics of vim in a few minutes, head to the linux terminal, then type and run vimtutor.&lt;/p&gt;

&lt;p&gt;Irrespective of your operating system and text editor (on windows, you can simply use notepad++ ), the next steps you take are what determine how much of agolang programmer youd become.&lt;/p&gt;

&lt;p&gt;For me, my journey was simple, I started by taking the go tour, which is in my opinion the fastest way of learing Go. The tour is available online at tour.golang.org, but you can download it and run it offline, if youve already set up Go on your environment. Run&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    go get code.google.com/p/go-tour/gotour
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then in your terminal, run the executable by typing and running&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    gotour
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Learn the basics of everything, variables, control structures, loops, etc, but nothing more, as fast as you can. The trick is learning just what you need at first, and not trying to keep everything in your head.&lt;/p&gt;

&lt;p&gt;After going through the tour, the next steop is to come up with a project and work on it. You can get project ideas at &lt;a href=&#34;https://github.com/karan/Projects&#34;&gt;https://github.com/karan/Projects&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This step is what makes you really matters. Each project you complete boosts your moral and gives you moe confidence in your skills. Remember to use maximal use of google, stackoverflow, and github source codes, to solve any hitches you experience. The major traits of a professional programmer, is not being able to code, but being able to solve problems and find solutions.&lt;/p&gt;

&lt;p&gt;When you feel comfortable in your skills, go ahead to contribute to any open source project on github. Again, you can read this blog post getting started with open source contributions if you are new to open source contributions.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The World is Ours</title>
      <link>http://tonyalaribe.github.io/post/world-is-ours/</link>
      <pubDate>Wed, 04 Feb 2015 22:23:08 +0000</pubDate>
      
      <guid>http://tonyalaribe.github.io/post/world-is-ours/</guid>
      <description>&lt;p&gt;The title of this post is also the name of a song. You probably know it. i mean the 2014 FIFA theme song by David correo, not the song with the same title by Aloe Blac.&lt;/p&gt;

&lt;p&gt;The fact that the world is ours, seems pretty obvious, but i doubt if most of us really appreciate that fact. For me, i feel like each one of us own this world, not our governments, or the huge brands that make all the noise. We all have a stake in all the available resources, so its left to us to take a claim in some of those resources, and protect those that need protecting.&lt;/p&gt;

&lt;p&gt;Im a member of a student organisation known as ENACTUS,and i appreciate the fact that it doesnt just encourage us to protect, but also maximise all the world has to offer, #seeopportunities, and tap into them, as a way of taking claim of part of these resources, as entrepreneurs.&lt;/p&gt;

&lt;p&gt;So, appreciating that the world is ours, isnt just for the activists. We can appreciate this in everything we do. We can turn the problems of the world into business opportunities, or actively preventing others from destroying this world which we share.&lt;/p&gt;

&lt;p&gt;PS. While writing this post, i had the song playing on repeat, so dont expect to learn anything here. Im just pouring out my heart through writing.&lt;/p&gt;

&lt;p&gt;Coincidentally, today is the final day of the enactus 2014 international competition in Beijing, China, and i believe anyone can take cue from enactus students worldwide, on how they are able to turn opportunities into meaningful and lasting change, improving and enhancing this world we share. Let their projects speak for themselves. Visit enactus.org. I hope that serves as your first step to playing a role in improving this world which we share.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Telepathy and &#39;The Flow&#39; ; IDEAS</title>
      <link>http://tonyalaribe.github.io/post/telepathy/</link>
      <pubDate>Wed, 04 Feb 2015 22:17:25 +0000</pubDate>
      
      <guid>http://tonyalaribe.github.io/post/telepathy/</guid>
      <description>&lt;p&gt;While studying with a friend, Irhose, we got caught up in a trail of discussions. We were trying to demystify the fact that sometimes we could find ourselves thinking or dreaming about a person or thing, and then in the course of the day, wed usually end up seeing the person or thing physically, or getting a call or message from the person.&lt;/p&gt;

&lt;p&gt;Most of us have had these experiences; we think about a person and somehow bump into the person that same day, or something. While trying to analyse these situations, we came up with a hypothesis:&lt;/p&gt;

&lt;p&gt;When we are in the flow and we think of a person, if that person is also in the flow and is experiencing the same emotions as we are at the moment, a channel of communication would be created between us. This usually ends in us feeling the urge to physically interact with the other person, usually unconciously. So you pick up your phone, and call the other person, who tells you he was thinking about calling you too, or something similar.&lt;/p&gt;

&lt;p&gt;This hypothesis does not explain situations like when you actually bump into the person, even though you least expect it, or the bumping on each other is usually unlikely. But i do believe that if this occurences are tapped and made concious, telepathy could be within the reach of we humans. Imagine that you need to see your girlfriend and rather than call her, you get into the flow and simply think of her coming over, and she somehow unconciously gets your message, and feels the need to come over, like the idea was hers originally.&lt;/p&gt;

&lt;p&gt;By the way, flow is simply a state of heightened concentration, that weve all achieved at many points in your life. Remember how time flies when cleaning? How you just seemed to relax in your head, while your body just did all the work.&lt;/p&gt;

&lt;p&gt;Please feel free to share your experiences and modifications to this hypothesis in the comments.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>